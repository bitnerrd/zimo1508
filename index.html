<!DOCTYPE html>
<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>

    <script>
      window.onload = async function () {
        let res;
        try {
          const response = await fetch("http://localhost:5500/countries");
          const data = await response.text();
          res = JSON.parse(data);
          console.log(res);
        } catch (error) {
          console.error("Error fetching data:", error);
        }
        var chart = new CanvasJS.Chart("chartContainer", {
          animationEnabled: true,
          theme: "light2",
          title: {
            text: "ZIMO Task 3: Users Accross World Wide",
          },
          data: [
            {
              type: "line",
              indexLabelFontSize: 16,
              dataPoints: [
                { y: res.UK, label: "UK" },
                { y: res.USA, label: "USA" },
                { y: res.Canada, label: "Canada" },
                { y: res.PK, label: "Pakistan" },
                { y: res.India, label: "India" },
                { y: res.Afghanistan, label: "Afghanistan" },
                { y: res.China, label: "China" },
                { y: 30, label: "Venezuela" },
                { y: 26, label: "Saudi" },
                { y: 50, label: "Iran" },
                { y: 40, label: "Iraq" },
                { y: 70, label: "Kuwait" },
                { y: 33, label: "UAE" },
                { y: 20, label: "Russia" },
              ],
            },
          ],
        });
        chart.render();
      };
    </script>
  </head>
  <body>
    <div id="chartContainer" style="height: 370px; width: 100%"></div>
    <script src="https://cdn.canvasjs.com/canvasjs.min.js"></script>
  </body>
</html>
